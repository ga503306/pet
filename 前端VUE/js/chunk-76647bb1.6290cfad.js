(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76647bb1"],{"41c7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"memberSet"},[null!=t.memberData.membername?a("div",{staticClass:"row no-gutters text-wrap align-items-center"},[a("div",{staticClass:"col-lg-6 col-12"},[a("div",{staticClass:"backgroundIMG rounded-circle mx-auto overflow-hidden",staticStyle:{"max-width":"300px"},style:{backgroundImage:"url("+t.memberData.avatar+")"}},[a("img",{staticClass:"w-100 img-fluid",class:{opacityZero:null!=t.memberData.avatar},attrs:{src:t.NoImageImg,alt:""}})]),a("div",{staticClass:"form-group d-flex my-4"},[a("label",{staticClass:"d-flex align-items-center btn btn-primary mx-auto",class:{disabled:t.MemberPicUploading},attrs:{for:"upload"}},[a("ring-loader",{staticClass:"custom-class",attrs:{color:"black",loading:t.MemberPicUploading,size:20}}),t._v("更新頭像 "),a("input",{staticClass:"d-none",attrs:{id:"upload",type:"file",disabled:t.MemberPicUploading},on:{change:t.updateMemberAvatar}})],1)])]),a("div",{staticClass:"col-lg-6 col-12"},[a("div",{staticClass:"row no-gutters"},[t._m(0),a("div",{staticClass:"col-md-8 col-12"},[a("p",[t._v(t._s(t.memberData.membername))])])]),a("div",{staticClass:"row no-gutters"},[t._m(1),a("div",{staticClass:"col-md-8 col-12"},[a("p",[t._v(t._s(t.memberData.email))])])]),a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid;return[a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.saveMemberData(e)}}},[a("ValidationProvider",{attrs:{name:"密碼",rules:"required|alpha_num"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,o=e.classes;return[a("div",{staticClass:"form-group row no-gutters"},[a("label",{staticClass:"col-md-4 col-form-label font-weight-bold",attrs:{for:"password"}},[t._v("新密碼")]),a("div",{staticClass:"col-md-8 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberData.pwd,expression:"memberData.pwd"}],staticClass:"form-control",class:o,attrs:{id:"password",type:"password"},domProps:{value:t.memberData.pwd},on:{input:function(e){e.target.composing||t.$set(t.memberData,"pwd",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(i[0]))])])])]}}],null,!0)}),a("ValidationProvider",{attrs:{rules:"required|password:@密碼|alpha_num"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,o=e.classes;return[a("div",{staticClass:"form-group row no-gutters"},[a("label",{staticClass:"col-md-4 col-form-label font-weight-bold",attrs:{for:"密碼"}},[t._v("再次輸入新密碼")]),a("div",{staticClass:"col-md-8 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberData.pwdcheck,expression:"memberData.pwdcheck"}],staticClass:"form-control",class:o,attrs:{id:"密碼",type:"password"},domProps:{value:t.memberData.pwdcheck},on:{input:function(e){e.target.composing||t.$set(t.memberData,"pwdcheck",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(i[0]))])])])]}}],null,!0)}),a("div",{staticClass:"form-group d-flex justify-content-center mt-4"},[a("button",{staticClass:"btn btn-primary",class:{disabled:i},attrs:{type:"submit",disabled:i}},[t._v(" 更新 ")])])],1)]}}],null,!1,3982729370)})],1)]):t._e()])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 col-12 font-weight-bold"},[a("p",[t._v("姓名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 col-12 font-weight-bold"},[a("p",[t._v("信箱(帳號)")])])}],s=a("afa5"),r=a.n(s),n={props:["identify"],data:function(){return{memberData:{},MemberPicUploading:!1,NoImageImg:r.a}},created:function(){this.getData()},methods:{getData:function(){this.$emit("loadAction",!0);var t=this;this.$emit("checkStatus");var e={method:"get",url:"Member/GetOne"};this.$http(e).then((function(e){t.memberData=e.data,t.$emit("loadAction",!1),setTimeout((function(){"會員"!==t.identify.identity&&(t.Swal.fire({toast:!0,position:"top-end",icon:"error",title:"進入會員後台失敗",showConfirmButton:!1,timer:2e3}),t.$router.push("/"))}),500)})).catch((function(){t.$emit("loadAction",!1)}))},saveMemberData:function(){this.$emit("loadAction",!0);var t=this,e={method:"patch",url:"Member/Resetpwd",data:{pwd:"".concat(this.memberData.pwd)}};this.$http(e).then((function(){t.Swal.fire({toast:!0,position:"top-end",icon:"success",title:"更新密碼成功",showConfirmButton:!1,timer:2e3}),t.getData()})).catch((function(){t.Swal.fire({toast:!0,position:"top-end",icon:"error",title:"更新密碼失敗",showConfirmButton:!1,timer:2e3}),t.$emit("loadAction",!1)}))},updateMemberAvatar:function(){var t=this,e=this,a=event.target.files[0],i=new FormData;i.append("file",a);var o="Member/Uploadimg";this.MemberPicUploading=!0,this.$http.post(o,i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){t.MemberPicUploading=!1,"圖片格式錯誤"===a.data.result?e.Swal.fire({toast:!0,position:"top-end",icon:"error",title:"圖片格式錯誤",showConfirmButton:!1,timer:2e3}):"Uploadimg錯誤，請至伺服器log查詢錯誤訊息"===a.data.result?e.Swal.fire({toast:!0,position:"top-end",icon:"info",title:"圖片不可超過 2 MB",showConfirmButton:!1,timer:2e3}):(e.getData(),e.Swal.fire({toast:!0,position:"top-end",icon:"success",title:"頭像上傳成功",showConfirmButton:!1,timer:2e3}))})).catch((function(){e.Swal.fire({toast:!0,position:"top-end",icon:"error",title:"頭像上傳失敗",showConfirmButton:!1,timer:2e3}),t.MemberPicUploading=!1}))}}},l=n,c=a("2877"),d=Object(c["a"])(l,i,o,!1,null,null,null);e["default"]=d.exports},afa5:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsBAMAAACLU5NGAAAAMFBMVEXm5ubl5eXS0tLk5OTQ0NDi4uLU1NTZ2dnq6ure3t7W1tbb29vg4OD+/v7y8vL29vYjzoSUAAADxElEQVR42u3Xu4sTURQG8O8wRqNYnOvgEwu5jFmMzYQgvhoZQ4LYJMris9AlrKAWGh8gWoyoYCG6Kj4WrdZlwUchohZqoTa66L+w4j8gtlbi3IwRray8TvH9mGSSSyAfZw73gZlvEBTMlRl8SlE4S77gW0eWoGDCK/jcEUXBSBllFI8CMbRwLR8DpnCPsO9cu3i9daENIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIvoLARQQBYy7VCAGEqu7KdzQTwZBB96kMAhryIlRiUXqBoMxo8ioSyd5ei+2q1EFBLkwhkKyy2XcbkIdBM5SLvQXyynXyghdpcQARhTuZpAG+FWvX58UfpQNQlcKo66lANSwBsGwol4D1FVI4RipK9wv/KjHg7/K+1vcLUWf1N1QXqYO+gJ4kpqyqdcNdo3f7SBUg4WxWaOBynDsnq1kPTU9fgNpqOEbQODJnujhhd7QzuUnG5VXECB4fuDS5CMEN6vvdelEFYoPI41D7T1RMzqDEL4s7o6uO17FNttMqnrurGpvFaJRgbVtzJkcuR2no9YmZ+fYhl1ZLsGXZd2Rsd6QHK+ceJpcFeSx7Ju9iY3jxZF9rHOT1rPTsix5eGvMiMAPnRd1H/WGSsnqLMRR9GPFUXTiVpIAN5vR4SzQ49c31s2pnLozVvfWW/FsO7G111pq910odfdpnMfqbjmexTo3cvj41nRRMz64+ujaqNE46q/j43mVF82J1vLfY6HxoNmdsjK/ce9mCwua8VRz81qbjB5BAD9crPHIbv3jIaJxv2GvWbM+qkaV18sajxdObZpTvV56b1CCHzrPXn9qt+L3lhe7f3Jolo13RN3IHlnaHZqe2LQhOTWdtXwAT+ZFY9sqLf19gghGVjxZdT5pv00+jEcrSie7k3ZfNkFEK1GCL3tGx/Z0WzvX9xp2MJ2Wesc2Xt3dak8daIs9pO+y6bTjezqVj3H/tuvl+GDxwd6d89ulGwiHNYRelOmX3hcfRYpMCNR1sFTrRQTqIqQCSC27vC/VppZvbBTAYGOjWcVEYTowcC+jWTK/GxsYAy2ngEIG20AgXAIV5NyQ922g9gska2AQDDbNOSm7t6ySxlXJ86bZKEyal8kMjhgKBLH7YuBchEHo+YiRunOPZnHg5AcyDbL3QAMXOs6jyM8DGRERERERERERERERERERERERERERERERERERERERERERERERERER/Q8GRP9KqkGMAlEAZ8v4NoxCUQDDl/FJUDjlL5j5fk5RMF9nfgBrIrv1RQ7jxAAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-76647bb1.6290cfad.js.map